{"ast":null,"code":"import createStore from \"unistore\";\nimport axios from \"axios\";\nconst initialState = {\n  listNews: [],\n  isloading: true,\n  test: \"halo masuk store\"\n};\nconst apiKey = \"02d1c2c457c14f739ed709c4bca05f3c\";\nconst baseUrl = \"https://newsapi.org/v2/\";\nconst urlHeadline = baseUrl + \"top-headlines?country=id&apikey=\" + apiKey;\nexport const store = createStore(initialState);\nexport const actions = store => ({\n  RequestDataNews: state => {\n    axios.get(urlHeadline).then(function (response) {\n      store.setState({\n        listNews: response.data.articles,\n        isloading: false\n      });\n    }).catch(function (error) {\n      store.setState({\n        isloading: false\n      });\n    });\n  },\n  handleInputChangeSearch: async (state, event) => {\n    let value = event.target.value;\n    await store.setState({\n      search: value\n    });\n  },\n  searchNews: async (state, keyword) => {\n    const self = this;\n\n    if (keyword.length > 2) {\n      try {\n        const response = await axios.get(baseUrl + \"everything?q=\" + keyword + \"&apiKey=\" + apiKey);\n        store.setState({\n          listNews: response.data.articles\n        });\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  },\n  handleInputChange2: (state, event) => {\n    store.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n});","map":{"version":3,"sources":["/home/alta10/fuk/github/hedy capel/challenge_reacttttt/src/store.js"],"names":["createStore","axios","initialState","listNews","isloading","test","apiKey","baseUrl","urlHeadline","store","actions","RequestDataNews","state","get","then","response","setState","data","articles","catch","error","handleInputChangeSearch","event","value","target","search","searchNews","keyword","self","length","console","handleInputChange2","name"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,UAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,QAAQ,EAAG,EADM;AAEjBC,EAAAA,SAAS,EAAG,IAFK;AAGjBC,EAAAA,IAAI,EAAC;AAHY,CAArB;AAMA,MAAMC,MAAM,GAAG,kCAAf;AACA,MAAMC,OAAO,GAAG,yBAAhB;AACA,MAAMC,WAAW,GAAGD,OAAO,GAAC,kCAAR,GAA2CD,MAA/D;AAEA,OAAO,MAAMG,KAAK,GAAGT,WAAW,CAACE,YAAD,CAAzB;AACP,OAAO,MAAMQ,OAAO,GAAGD,KAAK,KAAK;AAC7BE,EAAAA,eAAe,EAAIC,KAAD,IAAW;AACzBX,IAAAA,KAAK,CACAY,GADL,CACSL,WADT,EAEKM,IAFL,CAEU,UAASC,QAAT,EAAkB;AACpBN,MAAAA,KAAK,CAACO,QAAN,CAAe;AAAEb,QAAAA,QAAQ,EAAEY,QAAQ,CAACE,IAAT,CAAcC,QAA1B;AAAoCd,QAAAA,SAAS,EAAE;AAA/C,OAAf;AACH,KAJL,EAKKe,KALL,CAKW,UAASC,KAAT,EAAe;AAClBX,MAAAA,KAAK,CAACO,QAAN,CAAe;AAAEZ,QAAAA,SAAS,EAAC;AAAZ,OAAf;AACH,KAPL;AAQH,GAV4B;AAW7BiB,EAAAA,uBAAuB,EAAG,OAAMT,KAAN,EAAYU,KAAZ,KAAuB;AAC7C,QAAIC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAAzB;AACA,UAAMd,KAAK,CAACO,QAAN,CAAe;AAAES,MAAAA,MAAM,EAAEF;AAAV,KAAf,CAAN;AACD,GAd0B;AAgB7BG,EAAAA,UAAU,EAAG,OAAMd,KAAN,EAAYe,OAAZ,KAAyB;AAClC,UAAMC,IAAI,GAAG,IAAb;;AACA,QAAID,OAAO,CAACE,MAAR,GAAiB,CAArB,EAAwB;AACtB,UAAI;AACF,cAAMd,QAAQ,GAAG,MAAMd,KAAK,CAACY,GAAN,CACrBN,OAAO,GAAG,eAAV,GAA4BoB,OAA5B,GAAsC,UAAtC,GAAmDrB,MAD9B,CAAvB;AAGAG,QAAAA,KAAK,CAACO,QAAN,CAAe;AAAEb,UAAAA,QAAQ,EAAEY,QAAQ,CAACE,IAAT,CAAcC;AAA1B,SAAf;AACD,OALD,CAKE,OAAOE,KAAP,EAAc;AACdU,QAAAA,OAAO,CAACV,KAAR,CAAcA,KAAd;AACD;AACF;AACF,GA5B0B;AA8B7BW,EAAAA,kBAAkB,EAAE,CAACnB,KAAD,EAAQU,KAAR,KAAkB;AACpCb,IAAAA,KAAK,CAACO,QAAN,CAAe;AAAE,OAACM,KAAK,CAACE,MAAN,CAAaQ,IAAd,GAAqBV,KAAK,CAACE,MAAN,CAAaD;AAApC,KAAf;AACD;AAhC4B,CAAL,CAArB","sourcesContent":["import createStore from \"unistore\";\nimport axios from \"axios\";\n\nconst initialState = {\n    listNews : [],\n    isloading : true,\n    test:\"halo masuk store\"\n};\n\nconst apiKey = \"02d1c2c457c14f739ed709c4bca05f3c\"\nconst baseUrl = \"https://newsapi.org/v2/\"\nconst urlHeadline = baseUrl+\"top-headlines?country=id&apikey=\"+apiKey;\n\nexport const store = createStore(initialState);\nexport const actions = store => ({\n    RequestDataNews : (state) => {\n        axios\n            .get(urlHeadline)\n            .then(function(response){\n                store.setState({ listNews: response.data.articles, isloading: false});\n            })\n            .catch(function(error){\n                store.setState({ isloading:false})\n            })\n    },\n    handleInputChangeSearch : async(state,event)  => {\n        let value = event.target.value;\n        await store.setState({ search: value });\n      },\n\n    searchNews : async(state,keyword)  => {\n        const self = this;\n        if (keyword.length > 2) {\n          try {\n            const response = await axios.get(\n              baseUrl + \"everything?q=\" + keyword + \"&apiKey=\" + apiKey\n            );\n            store.setState({ listNews: response.data.articles });\n          } catch (error) {\n            console.error(error);\n          }\n        }\n      },\n      \n    handleInputChange2: (state, event) => {\n      store.setState({ [event.target.name]: event.target.value });\n    }\n  });"]},"metadata":{},"sourceType":"module"}