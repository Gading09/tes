{"ast":null,"code":"var _jsxFileName = \"/home/alta10/fuk/github/hedy capel/challenge_reacttttt/src/page/new.js\";\nimport React, { Component } from \"react\";\nimport Header from \"../component/header\";\nimport axios from \"axios\";\nimport BeritaTerkini from \"../component/berita_terkini\";\nimport Berita from \"../component/berita\";\nimport { store } from \"../store\";\nimport \"../style/css-final.css\";\nimport \"../style/bootstrap.min.css\";\nconst apiKey = \"02d1c2c457c14f739ed709c4bca05f3c\";\nconst baseUrl = \"https://newsapi.org/v2/\";\nconst urlHeadline = baseUrl + \"top-headlines?country=id&apikey=\" + apiKey;\n\nclass New extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      listNews: [],\n      isloading: true\n    };\n\n    this.requestNewsCategory = async () => {\n      const paramCategory = await this.props.match.params.category;\n      console.warn(paramCategory);\n      const self = this;\n      await axios.get(urlHeadline + \"&category=\" + paramCategory).then(function (response) {\n        self.setState({\n          listNews: response.data.articles,\n          isLoading: false\n        }); // handle success\n      }).catch(function (error) {\n        self.setState({\n          isLoading: false\n        }); // handle error\n\n        console.log(error);\n      });\n    };\n\n    this.handleRouterCategory = async categoryName => {\n      const category = categoryName;\n      await this.props.history.push(\"/news-category/\" + category);\n      this.requestNewsCategory();\n    };\n\n    this.componentDidMount = () => {\n      const self = this;\n      axios.get(urlHeadline).then(function (response) {\n        self.setState({\n          listNews: response.data.articles,\n          isloading: false\n        });\n      }).catch(function (error) {\n        self.setState({\n          isloading: false\n        });\n      });\n    };\n\n    this.handleInputChange = async event => {\n      let value = event.target.value;\n      await this.setState({\n        search: value\n      });\n      this.searchNews(value);\n    };\n\n    this.searchNews = async keyword => {\n      const self = this;\n\n      if (keyword.length > 2) {\n        try {\n          const response = await axios.get(baseUrl + \"everything?q=\" + keyword + \"&apiKey=\" + apiKey);\n          self.setState({\n            listNews: response.data.articles\n          });\n        } catch (error) {\n          console.error(error);\n        }\n      }\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          listNews = _this$state.listNews,\n          isloading = _this$state.isloading;\n    const topHeadlines = listNews.filter(item => {\n      if (item.content !== null && item.image !== null) {\n        return item;\n      }\n\n      return false;\n    });\n    const headlineNews = topHeadlines.map(item => {\n      return React.createElement(Berita, {\n        author: item.author,\n        img: item.urlToImage,\n        title: item.title,\n        description: item.description,\n        publish: item.publishedAt,\n        url: item.url,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      });\n    });\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Header, Object.assign({\n      doSearch: event => this.handleInputChange(event),\n      placeholder: \"ketik sesuatu\",\n      everything: event => this.handleRouterCategory(event),\n      isCategoryNews: true,\n      category: true\n    }, this.props, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"row berita\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col-md-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(BeritaTerkini, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col-md-7 habis\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, isloading ? React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"looding...\") : headlineNews))));\n  }\n\n}\n\nexport default New;","map":{"version":3,"sources":["/home/alta10/fuk/github/hedy capel/challenge_reacttttt/src/page/new.js"],"names":["React","Component","Header","axios","BeritaTerkini","Berita","store","apiKey","baseUrl","urlHeadline","New","state","listNews","isloading","requestNewsCategory","paramCategory","props","match","params","category","console","warn","self","get","then","response","setState","data","articles","isLoading","catch","error","log","handleRouterCategory","categoryName","history","push","componentDidMount","handleInputChange","event","value","target","search","searchNews","keyword","length","render","topHeadlines","filter","item","content","image","headlineNews","map","author","urlToImage","title","description","publishedAt","url","textAlign"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAASC,KAAT,QAAsB,UAAtB;AACA,OAAO,wBAAP;AACA,OAAO,4BAAP;AAEA,MAAMC,MAAM,GAAG,kCAAf;AACA,MAAMC,OAAO,GAAG,yBAAhB;AACA,MAAMC,WAAW,GAAGD,OAAO,GAAC,kCAAR,GAA2CD,MAA/D;;AAEA,MAAMG,GAAN,SAAkBT,SAAlB,CAA2B;AAAA;AAAA;AAAA,SAEvBU,KAFuB,GAEf;AACJC,MAAAA,QAAQ,EAAG,EADP;AAEJC,MAAAA,SAAS,EAAG;AAFR,KAFe;;AAAA,SAMvBC,mBANuB,GAMD,YAAY;AAC9B,YAAMC,aAAa,GAAG,MAAM,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,QAApD;AACAC,MAAAA,OAAO,CAACC,IAAR,CAAaN,aAAb;AACA,YAAMO,IAAI,GAAG,IAAb;AACA,YAAMnB,KAAK,CACVoB,GADK,CACDd,WAAW,GAAG,YAAd,GAA6BM,aAD5B,EAELS,IAFK,CAEA,UAAUC,QAAV,EAAoB;AACtBH,QAAAA,IAAI,CAACI,QAAL,CAAc;AAAEd,UAAAA,QAAQ,EAAEa,QAAQ,CAACE,IAAT,CAAcC,QAA1B;AAAoCC,UAAAA,SAAS,EAAE;AAA/C,SAAd,EADsB,CAEtB;AACH,OALK,EAMLC,KANK,CAMC,UAAUC,KAAV,EAAiB;AACpBT,QAAAA,IAAI,CAACI,QAAL,CAAc;AAAEG,UAAAA,SAAS,EAAE;AAAb,SAAd,EADoB,CAEpB;;AACAT,QAAAA,OAAO,CAACY,GAAR,CAAYD,KAAZ;AACH,OAVK,CAAN;AAWH,KArBsB;;AAAA,SAsBvBE,oBAtBuB,GAsBA,MAAMC,YAAN,IAAsB;AACzC,YAAMf,QAAQ,GAAGe,YAAjB;AACA,YAAM,KAAKlB,KAAL,CAAWmB,OAAX,CAAmBC,IAAnB,CAAwB,oBAAkBjB,QAA1C,CAAN;AACA,WAAKL,mBAAL;AACH,KA1BsB;;AAAA,SA2BrBuB,iBA3BqB,GA2BD,MAAM;AACtB,YAAMf,IAAI,GAAG,IAAb;AACAnB,MAAAA,KAAK,CACFoB,GADH,CACOd,WADP,EAEGe,IAFH,CAEQ,UAASC,QAAT,EAAkB;AACpBH,QAAAA,IAAI,CAACI,QAAL,CAAc;AAAEd,UAAAA,QAAQ,EAAEa,QAAQ,CAACE,IAAT,CAAcC,QAA1B;AAAoCf,UAAAA,SAAS,EAAE;AAA/C,SAAd;AACH,OAJH,EAKGiB,KALH,CAKS,UAASC,KAAT,EAAe;AAClBT,QAAAA,IAAI,CAACI,QAAL,CAAc;AAAEb,UAAAA,SAAS,EAAC;AAAZ,SAAd;AACH,OAPH;AAQL,KArCsB;;AAAA,SAuCvByB,iBAvCuB,GAuCH,MAAMC,KAAN,IAAe;AAC/B,UAAIC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAAzB;AACA,YAAM,KAAKd,QAAL,CAAc;AAAEgB,QAAAA,MAAM,EAAEF;AAAV,OAAd,CAAN;AACA,WAAKG,UAAL,CAAgBH,KAAhB;AACD,KA3CoB;;AAAA,SA6CvBG,UA7CuB,GA6CV,MAAMC,OAAN,IAAiB;AAC1B,YAAMtB,IAAI,GAAG,IAAb;;AACA,UAAIsB,OAAO,CAACC,MAAR,GAAiB,CAArB,EAAwB;AACtB,YAAI;AACF,gBAAMpB,QAAQ,GAAG,MAAMtB,KAAK,CAACoB,GAAN,CACrBf,OAAO,GAAG,eAAV,GAA4BoC,OAA5B,GAAsC,UAAtC,GAAmDrC,MAD9B,CAAvB;AAGAe,UAAAA,IAAI,CAACI,QAAL,CAAc;AAAEd,YAAAA,QAAQ,EAAEa,QAAQ,CAACE,IAAT,CAAcC;AAA1B,WAAd;AACD,SALD,CAKE,OAAOG,KAAP,EAAc;AACdX,UAAAA,OAAO,CAACW,KAAR,CAAcA,KAAd;AACD;AACF;AACF,KAzDoB;AAAA;;AA2DvBe,EAAAA,MAAM,GAAE;AAAA,wBAC2B,KAAKnC,KADhC;AAAA,UACIC,QADJ,eACIA,QADJ;AAAA,UACcC,SADd,eACcA,SADd;AAEJ,UAAMkC,YAAY,GAAGnC,QAAQ,CAACoC,MAAT,CAAgBC,IAAI,IAAI;AACzC,UAAIA,IAAI,CAACC,OAAL,KAAiB,IAAjB,IAAyBD,IAAI,CAACE,KAAL,KAAe,IAA5C,EAAiD;AAC7C,eAAOF,IAAP;AACH;;AACD,aAAO,KAAP;AACH,KALoB,CAArB;AAOA,UAAMG,YAAY,GAAGL,YAAY,CAACM,GAAb,CAAkBJ,IAAD,IAAU;AAC5C,aACI,oBAAC,MAAD;AACA,QAAA,MAAM,EAAEA,IAAI,CAACK,MADb;AAEA,QAAA,GAAG,EAAEL,IAAI,CAACM,UAFV;AAGA,QAAA,KAAK,EAAEN,IAAI,CAACO,KAHZ;AAIA,QAAA,WAAW,EAAEP,IAAI,CAACQ,WAJlB;AAKA,QAAA,OAAO,EAAER,IAAI,CAACS,WALd;AAMA,QAAA,GAAG,EAAET,IAAI,CAACU,GANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAUH,KAXoB,CAArB;AAaA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AACA,MAAA,QAAQ,EAAEpB,KAAK,IAAI,KAAKD,iBAAL,CAAuBC,KAAvB,CADnB;AAEA,MAAA,WAAW,EAAC,eAFZ;AAGA,MAAA,UAAU,EAAIA,KAAK,IAAI,KAAKN,oBAAL,CAA0BM,KAA1B,CAHvB;AAIA,MAAA,cAAc,EAAI,IAJlB;AAKA,MAAA,QAAQ;AALR,OAMI,KAAKvB,KANT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADJ,EASI;AAAK,MAAA,KAAK,EAAC,iBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACCH,SAAS,GAAG;AAAK,MAAA,KAAK,EAAE;AAAE+C,QAAAA,SAAS,EAAC;AAAZ,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAH,GAAyDR,YADnE,CAHJ,CADJ,CATJ,CADJ;AAqBH;;AAtGsB;;AAyG3B,eAAe1C,GAAf","sourcesContent":["import React, {Component} from \"react\";\nimport Header from \"../component/header\";\nimport axios from \"axios\";\nimport BeritaTerkini from \"../component/berita_terkini\";\nimport Berita from \"../component/berita\"\nimport { store } from \"../store\";\nimport \"../style/css-final.css\";\nimport \"../style/bootstrap.min.css\";\n\nconst apiKey = \"02d1c2c457c14f739ed709c4bca05f3c\"\nconst baseUrl = \"https://newsapi.org/v2/\"\nconst urlHeadline = baseUrl+\"top-headlines?country=id&apikey=\"+apiKey;\n\nclass New extends Component{\n\n    state = {\n        listNews : [],\n        isloading : true\n    }\n    requestNewsCategory = async () => {\n        const paramCategory = await this.props.match.params.category;\n        console.warn(paramCategory)\n        const self = this;\n        await axios\n        .get(urlHeadline + \"&category=\" + paramCategory)\n        .then(function (response) {\n            self.setState({ listNews: response.data.articles, isLoading: false });\n            // handle success\n        })\n        .catch(function (error) {\n            self.setState({ isLoading: false });\n            // handle error\n            console.log(error);\n        });\n    };\n    handleRouterCategory = async categoryName => {\n        const category = categoryName;\n        await this.props.history.push(\"/news-category/\"+category);\n        this.requestNewsCategory();\n    }\n      componentDidMount = () => {\n          const self = this;\n          axios\n            .get(urlHeadline)\n            .then(function(response){\n                self.setState({ listNews: response.data.articles, isloading: false});\n            })\n            .catch(function(error){\n                self.setState({ isloading:false})\n            })\n    }\n\n    handleInputChange = async event => {\n        let value = event.target.value;\n        await this.setState({ search: value });\n        this.searchNews(value);\n      };\n    \n    searchNews = async keyword => {\n        const self = this;\n        if (keyword.length > 2) {\n          try {\n            const response = await axios.get(\n              baseUrl + \"everything?q=\" + keyword + \"&apiKey=\" + apiKey\n            );\n            self.setState({ listNews: response.data.articles });\n          } catch (error) {\n            console.error(error);\n          }\n        }\n      };\n\n    render(){\n        const { listNews, isloading} = this.state;\n        const topHeadlines = listNews.filter(item => {\n            if (item.content !== null && item.image !== null){\n                return item;\n            }\n            return false;\n        });\n\n        const headlineNews = topHeadlines.map((item) => {\n            return(\n                <Berita\n                author={item.author}\n                img={item.urlToImage}\n                title={item.title}\n                description={item.description}\n                publish={item.publishedAt}\n                url={item.url}\n                />\n            );\n        });\n        \n        return (\n            <div>\n                <Header\n                doSearch={event => this.handleInputChange(event)}\n                placeholder=\"ketik sesuatu\"\n                everything = {event => this.handleRouterCategory(event)}\n                isCategoryNews = {true}\n                category\n                {...this.props}\n                />\n                <div class=\"container-fluid\">\n                    <div class=\"row berita\">\n                        <div class=\"col-md-1\"></div>\n                        <BeritaTerkini/>\n                        <div className=\"col-md-7 habis\">\n                        {isloading ? <div style={{ textAlign:\"center\"}}>looding...</div> : headlineNews}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default New;"]},"metadata":{},"sourceType":"module"}